!function(e){var t=function(t,n,a,i,l,o,r,d,s,p,m,S,c,C,u,f,h,g,y,v,B,b,W,w,D,T,A,R,x,F,M,L,I,H,P,E,k,q,N,V,_){this._elementId="";var z="",G="",j='<div class="SequenceComboBoxStyle"> <div class="ColumnMappingStrField toNextLine"> <div class="toNextLine" style="display: none;"> Display String : </div><div class="ColumnMappingStrFieldDisplay toNextLine"> AdapterA<br/> AdapterB<br/> AdapterC </div><div class="toNextLine" style="display: none;"> Real String : </div><div class="ColumnMappingStrFieldReal toNextLine" style="display: none;"> C55B08BF-053E-4DFA-BBBE-CAD433049F33::9A63FD6B-6F13-4737-A904-39CD13224FC8::D252F81A-FCAB-4EC2-AA65-AE3394A66256 </div><div class="ColumnMappingStrFieldRealForDisplay toNextLine" style="display: none;"> AdapterA**AdapterB**AdapterC </div><div class="ColumnMappingEditBtn WidgetBtnStyle WidgetBtnTextStyle m-btn"> Edit </div></div><div class="ColumnMappingWidget toNextLine"> <div class="SortableWidgetTemplate" style="height: 0px; visibility: hidden; width: 0px;"> <div class="SortableWidgetItem SortableWidgetItemStyle ui-state-default" style="width: auto;"> <span class="SortableWidgetItemDragBtnPlaceHolder SortableWidgetItemComponentStyle DragBtnStyle"> <span class="SortableWidgetItemDragBtn ui-icon ui-icon-arrowthick-2-n-s"></span> </span> <span class="LeftColumnTextPlaceHolder SortableWidgetItemComponentStyle"> <span class="LeftColumnTextDisplay TextStyle"></span> <span class="LeftColumnTextReal" style="display: none;"></span> </span> <span class="ComponentSeparatorPlaceHolder SortableWidgetItemComponentStyle"> <span class="ComponentSeparatorDisplay"></span> <span class="ComponentSeparatorReal TextStyle" style="display: none;"></span> </span> <span class="ComponentRemoveBtnPlaceHolder ComponentRemoveBtnPlaceHolderStyle SortableWidgetItemComponentStyle"> <span class="ComponentRemoveBtn ComponentRemoveBtnStyle ui-icon ui-icon-closethick"></span> </span> </div></div><div class="SortableWidgetPlaceHolder toNextLine"> <div class="SortableWidget SortableWidgetStyle"> </div></div><div class="SortableWidgetBtnsPlaceHolder toNextLine"> <div class="SortableWidgetAddBtn WidgetBtnStyle WidgetBtnTextStyle m-btn"> Add </div><div class="SortableWidgetCommitBtn WidgetBtnStyle WidgetBtnTextStyle m-btn green"> Commit </div><div class="SortableWidgetClearBtn WidgetBtnStyle WidgetBtnTextStyle m-btn red"> Clear </div><div class="SortableWidgetCancelBtn WidgetBtnStyle WidgetBtnTextStyle m-btn"> Cancel </div></div></div></div>',Q=null,J=null,K=null,O=null,U=null,X=null,Y=null,Z=null,$="",ee="",te=null,ne=null,ae=null,ie=null,le=null,oe="",re="",de="",se="",pe="",me="",Se="",ce=function(){},Ce=ce,ue=ce,fe=ce,he=ce,ge=ce,ye=ce,ve=ce,Be=ce,be=ce,We=ce,we=ce,De=ce,Te=ce,Ae=ce,Re=!1,xe=!1,Fe=!1,Me=!1,Le=!1,Ie=!1,He=!1,Pe=!1,Ee=!1,ke=!1,qe="",Ne="",Ve="",_e=null,ze=null,Ge=null;this.construct=function(t,n,a,i,l,o,r,d,s,p,m,S,c,C,u,f,h,g,y,v,B,b,W,w,D,T,A,R,x,F,M,L,I,H,P,E,k,q,N,V,_){return this._elementId=t,z=e("#"+this._elementId),G=n,z.addClass(G),z.append(e.parseHTML(j)),Q=z.find(".ColumnMappingStrField"),J=Q.find(".ColumnMappingStrFieldDisplay"),K=Q.find(".ColumnMappingStrFieldReal"),O=Q.find(".ColumnMappingStrFieldRealForDisplay"),U=Q.find(".ColumnMappingEditBtn"),X=z.find(".ColumnMappingWidget"),Y=X.find(".SortableWidgetTemplate").find(".SortableWidgetItem"),Z=X.find(".SortableWidgetPlaceHolder").find(".SortableWidget"),$=l.toString(),ee=o.toString(),Z.css({"float":"left",width:$}),te=X.find(".SortableWidgetBtnsPlaceHolder"),ne=te.find(".SortableWidgetAddBtn"),ae=te.find(".SortableWidgetCommitBtn"),ie=te.find(".SortableWidgetClearBtn"),le=te.find(".SortableWidgetCancelBtn"),oe=p,re=h,de=f,se=W,pe=A,me=M,Se=P,Ce=a,ue=i,fe=m,he=S,ge=c,ye=C,ve=v,Be=B,be=w,We=D,Te=L,Ae=I,Re=g,xe=y,Fe=k,Me=q,Le=u,Ie=b,He=T,Pe=F,Ee=H,qe=r,Ne=d,Ve=s,ke=E,ke&&J.addClass("isAlwaysShownColumnMappingStrFieldDisplay"),_e=N,ze=V,Ge=_,J.html(qe),K.html(Ne),O.html(Ve),this};var je=function(){Ie?ne.show():ne.hide(),He?ae.show():ae.hide(),Pe?ie.show():ie.hide(),Ee?le.show():le.hide()},Qe=function(){var t,n=z.find(".ColumnMappingWidget").find(".SortableWidgetPlaceHolder").find(".SortableWidget").find(".ClonedComponentSeparatorDisplay");n.each(function(){t=Fe?e(this).show():e(this).hide()}),null!=t&&t.hide();var a,i=z.find(".ColumnMappingWidget").find(".SortableWidgetPlaceHolder").find(".SortableWidget").find(".ClonedComponentSeparatorReal");i.each(function(){a=Me?e(this).show():e(this).hide()})},Je=function(t){t.sortable({axis:"y",start:function(t,n){0!=e(".ui-autocomplete").length&&e(".ui-autocomplete").hide()},tolerance:"pointer",stop:function(e,t){Qe()}})},Ke=function(e,t,n,a){var i=Y.eq(0).clone();i=i.addClass("ClonedSortableWidgetItem"),i.css({"float":"left",width:ee});var l=i.find(".SortableWidgetItemDragBtn").addClass("ClonedSortableWidgetItemDragBtn"),o=i.find(".LeftColumnTextDisplay").addClass("ClonedLeftColumnTextDisplay"),r=i.find(".LeftColumnTextReal").addClass("ClonedLeftColumnTextReal"),d=(i.find(".ComponentSeparatorPlaceHolder").addClass("ClonedComponentSeparatorPlaceHolder"),i.find(".ComponentSeparatorDisplay").addClass("ClonedComponentSeparatorDisplay")),s=i.find(".ComponentSeparatorReal").addClass("ClonedComponentSeparatorReal"),p=i.find(".ComponentRemoveBtn").addClass("ClonedComponentRemoveBtn");l.attr("title",oe),p.on("click",function(e){i.remove(),Qe()}),o.html(n),r.html(e),d.html(a),s.html(t),Z.append(i),Qe(),Re?o.show():o.hide(),xe?r.show():r.hide(),Le?p.show():p.hide()},Oe=function(){var e=X.find(".SortableWidgetPlaceHolder").find(".SortableWidget").find(".ClonedSortableWidgetItem");return e.each(function(){var t=e.find(".ClonedComponentRemoveBtn");t.trigger("click")}),this},Ue=function(e,t,n,a,i){for(var l=0;e>l;l++)Ke(t[l],n[l],a[l],i[l])},Xe=function(e,t){Oe();var n=(new mappingStrConverterForSerializationHelper).setMappingStrToComponentArr(e,[_e],[_e])._mappingStrToComponentArr,a=(new mappingStrConverterForSerializationHelper).setMappingStrToComponentArr(t,[ze],[ze])._mappingStrToComponentArr;return n[2]!=a[2]&&alert("Something wrong in privateDeserializeMappingStrToComponent , !(componentArr[2] == componentRealForDisplayArr[2])"),Ue(n[2],n[0],n[1],a[0],a[1]),this},Ye=function(e){fe(e),Oe(),Xe(K.html(),O.html()),X.show(),U.hide(),J.hasClass("isAlwaysShownColumnMappingStrFieldDisplay")||J.hide(),he(e)},Ze=function(e){ve(e),Ke("",_e,"",ze),Be(e)},$e=function(e){we(e),Oe(),De(e)},et=function(t){be(t);for(var n=Z.find(".ClonedLeftColumnTextDisplay"),a=Z.find(".ClonedLeftColumnTextReal"),i=Z.find(".ClonedComponentSeparatorDisplay"),l=Z.find(".ClonedComponentSeparatorReal"),o="",r="",d="",s=a.length,p=0;s>p;p++){var m=e.trim(n.eq(p).html()),S=e.trim(a.eq(p).html()),c=Ge,C=e.trim(l.eq(p).html()),u=e.trim(i.eq(p).html());p===s-1?(o+=m,r+=S,d+=m):(o+=m+c,r+=S+C,d+=m+u)}J.html(o),K.html(r),O.html(d),U.show(),X.hide(),J.hasClass("isAlwaysShownColumnMappingStrFieldDisplay")||J.show(),We(t,o,r,d)},tt=function(e){Te(e),Oe(),U.show(),X.hide(),J.hasClass("isAlwaysShownColumnMappingStrFieldDisplay")||J.show(),Ae(e)};this.createFactory=function(){return Ce(event),X.hide(),Je(Z),U.on("click",Ye),ne.on("click",Ze),ae.on("click",et),ie.on("click",$e),le.on("click",tt),U.attr("title",re),ne.attr("title",se),ae.attr("title",pe),ie.attr("title",me),le.attr("title",Se),Xe(K.html(),O.html()),je(),ue(event),this},this.construct(t,n,a,i,l,o,r,d,s,p,m,S,c,C,u,f,h,g,y,v,B,b,W,w,D,T,A,R,x,F,M,L,I,H,P,E,k,q,N,V,_)},n=function(n,a){var i=function(e,t){},l=n,o={className:"SequenceWidgetFactory",beforeCreate:i,afterCreate:i,sortableWidgetWidth:"600px",sortableWidgetItemWidth:"500px",columnMappingStrDisplay:"",columnMappingStrReal:"",columnMappingStrRealForDisplay:"",dragBtnTipStr:"Click and drag.",beforeEdit:i,afterEdit:i,beforeRemove:i,afterRemove:i,isShowedRemoveBtn:!1,removeBtnTipStr:"Click to remove.",editBtnTipStr:"Edit the sequence.",isShowedLeftColumnTextDisplay:!0,isShowedLeftColumnTextReal:!1,beforeAdd:i,afterAdd:i,isShowedAddBtn:!1,addBtnTipStr:"Add new component.",beforeCommit:i,afterCommit:i,isShowedCommitBtn:!0,commitBtnTipStr:"Commit the current configuration.",beforeClear:i,afterClear:i,isShowedClearBtn:!1,clearBtnTipStr:"Clear the current configuration.",beforeCancel:i,afterCancel:i,isShowedCancelBtn:!0,cancelBtnTipStr:"Cancel the editing configuration.",isAlwaysShownColumnMappingStrFieldDisplay:!0,isShowedComponentSeparatorDisplay:!1,isShowedComponentSeparatorReal:!1,componentSeparatorDefaultValue:"::",componentSeparatorRealForDisplayDefaultValue:"**",componentSeparatorDisplayDefaultValue:"<br>"},r=e.extend(o,a||{});new t(l.attr("id"),r.className,r.beforeCreate,r.afterCreate,r.sortableWidgetWidth,r.sortableWidgetItemWidth,r.columnMappingStrDisplay,r.columnMappingStrReal,r.columnMappingStrRealForDisplay,r.dragBtnTipStr,r.beforeEdit,r.afterEdit,r.beforeRemove,r.afterRemove,r.isShowedRemoveBtn,r.removeBtnTipStr,r.editBtnTipStr,r.isShowedLeftColumnTextDisplay,r.isShowedLeftColumnTextReal,r.beforeAdd,r.afterAdd,r.isShowedAddBtn,r.addBtnTipStr,r.beforeCommit,r.afterCommit,r.isShowedCommitBtn,r.commitBtnTipStr,r.beforeClear,r.afterClear,r.isShowedClearBtn,r.clearBtnTipStr,r.beforeCancel,r.afterCancel,r.isShowedCancelBtn,r.cancelBtnTipStr,r.isAlwaysShownColumnMappingStrFieldDisplay,r.isShowedComponentSeparatorDisplay,r.isShowedComponentSeparatorReal,r.componentSeparatorDefaultValue,r.componentSeparatorRealForDisplayDefaultValue,r.componentSeparatorDisplayDefaultValue).createFactory()};e.fn.sequenceStrGenerator=function(t){return this.each(function(){var a=e(this);a.data("sequenceStrGenerator")||a.data("sequenceStrGenerator",new n(a,t))})}}(jQuery);